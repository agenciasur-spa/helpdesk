---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/layout/Navbar.astro';
import Footer from '../../components/layout/Footer.astro';
import data from '../../content/helpdesk-data.json';

export async function getStaticPaths() {
  const { categories, articles } = data;
  return articles.map(article => {
    const category = categories.find(c => c.slug === article.categorySlug);
    return {
      params: { slug: article.slug },
      props: { article, category }
    };
  });
}

const { article, category } = Astro.props;

if (!article) {
  Astro.redirect('/helpdesk/category/');
}
---
<!-- ... resto del componente ... -->

<Layout>
  <Navbar />
  <main class="container py-5">
    <nav aria-label="breadcrumb" class="mb-3">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/helpdesk/">Helpdesk</a></li>
        <li class="breadcrumb-item">
          <a href={`/helpdesk/category/${category.slug}/`}>
            {category.title}
          </a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
          {article.title}
        </li>
      </ol>
    </nav>

    <h1>{article.title}</h1>
    <div class="mt-4">
      <p>{article.content}</p>
    </div>

    <div class="mt-4">
      <a href={`/helpdesk/category/${category.slug}/`} class="btn btn-outline-primary">
        ‚Üê Volver a {category.title}
      </a>
    </div>
  </main>
  <Footer />
</Layout>