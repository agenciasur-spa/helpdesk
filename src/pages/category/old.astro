---

import Hero from '../../components/layout/Hero.astro';
import CategoryCards from '../../components/layout/CategoryCards.astro';
import CategoryMiniCards from '../../components/layout/CategoryMiniCards.astro';
import CallToAction from '../../components/layout/CallToAction.astro';
import CallContact from '../../components/layout/CallContact.astro';
import FeaturedArticles from '../../components/layout/FeaturedArticles.astro';
import FrecuentQuestions from '../../components/layout/FrecuentQuestions.astro';





import Navbar from '../../components/layout/Navbar.astro';
import Footer from '../../components/layout/Footer.astro';
import Layout from '../../layouts/Layout.astro';


const categoryCards = [
  { title: "Soporte Técnico", text: "Asistencia inmediata...", href: "/helpdesk/category/" },
  { title: "Documentación", text: "Guías y tutoriales...", href: "/docs" },
  { title: "Preguntas Frecuentes", text: "Respuestas rápidas...", href: "/faq" },
  { title: "Contacto Directo", text: "Habla con un agente...", href: "/contacto" },
];

const categoryMiniCards = [
  { title: "Soporte Técnico", text: "Asistencia inmediata...", href: "/helpdesk/category/" },
  { title: "Documentación", text: "Guías y tutoriales...", href: "/docs" },
  { title: "Preguntas Frecuentes", text: "Respuestas rápidas...", href: "/faq" },
  { title: "Contacto Directo", text: "Habla con un agente...", href: "/contacto" },
];


const { categories, articles } = data;

// Genera una página por categoría
export async function getStaticPaths() {
  return categories.map(category => ({
    params: { slug: category.slug },
    props: { category, articles: articles.filter(a => a.categorySlug === category.slug) }
  }));
}

const { category, articles } = Astro.props;

---

<Layout>
  <main class="flex-shrink-0">
    
    <Navbar/>

     <main class="container py-5">
    <h1 class="mb-4">{category.title}</h1>
    <p class="lead mb-5">{category.description}</p>

    <div class="row g-4">
      {articles.map(article => (
        <div class="col-md-6" key={article.slug}>
          <div class="card h-100">
            <div class="card-body">
              <h5 class="card-title">{article.title}</h5>
              <a href={`/helpdesk/article/${article.slug}/`} class="btn btn-primary mt-auto">Ver detalles</a>
            </div>
          </div>
        </div>
      ))}
    </div>

    <div class="mt-4">
      <a href="/helpdesk/" class="btn btn-outline-secondary">← Volver al inicio</a>
    </div>



  </main>
  <Footer/>
</Layout>
